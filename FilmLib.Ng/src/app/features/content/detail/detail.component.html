<mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>

<main class="content">

  <section class="content__main"
           [style]="'background-image: url(' + 'https://image.tmdb.org/t/p/w1280' + content?.titleImageLink + ');'"
  >

    <div class="content__container">

      <div class="content__info container">

           <img src="" data-src=""
             data-srcset=" 1x,  2x"
             srcset=" 1x,  2x"
             data-loaded="true" [alt]="content?.titleImageLink" appImgMissingDirective>

           <div class="content__data">

            <h2>{{content?.title}}</h2>

          <h4>Overview</h4>
          <p>{{content?.description}}</p>

          <button *ngIf="content?.videoLink" mat-flat-button color="primary" aria-label="Trailer" (click)="openDialog()" class="play-trailer">
            <mat-icon aria-hidden="false" fontIcon="play_arrow"></mat-icon> Play Trailer
          </button>

          <h4>Categories</h4>

          <div class="content__data--categories">
            <button *ngFor="let genre of content?.genres" mat-raised-button color="primary" aria-label="Genres" disabled>{{genre.name}}</button>
          </div>

        </div>

      </div>

    </div>

  </section>

  <!-- Mobile data  -->
  <section class="content__data-mobile">
    <h2>{{content?.title}} </h2>


    <h4>Overview</h4>
    <p>{{content?.description}}</p>

    <button *ngIf="content?.videoLink" mat-flat-button color="primary" aria-label="Trailer" (click)="openDialog()" class="play-trailer">
      <mat-icon aria-hidden="false" fontIcon="play_arrow"></mat-icon> Play Trailer
    </button>
  </section>

</main>

<!--Dialogo video trailer-->
<ng-template #matTrailerDialog>
  <div cdkDragBoundary=".cdk-overlay-container" cdkDrag cdkDragRootElement=".cdk-overlay-pane" style="background: black;">
    <div class="dialog-title-container" cdkDragHandle>
      <a href="javascript:void(0);" (click)="trailerDialog.closeAll()">
        <mat-icon aria-label="cerrar dialogo cambiar imagen Cabecera">close</mat-icon>
      </a>
      <h2 matDialogTitle>Play Trailer</h2>
    </div>

    <mat-dialog-content class="header-content-dialog">

      <div *ngIf="content?.videoLink" class="video-movie-main">
        <iframe [src]="content?.videoLink" allowfullscreen></iframe>
      </div>

    </mat-dialog-content>

  </div>
</ng-template>